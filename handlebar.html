<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="description"
        content="Will Langford is an engineer, technology leader, and entrepreneur. He gets excited about manipulating atoms with bits. Let's talk about digital fabrication, robotics, and bio-automation.">
    <title>Will Builds Things</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" type="text/css" href="venn_style.css">
    <link rel="stylesheet" href="https://use.typekit.net/vch1ekh.css">
    <script type="module" src="https://cdn.jsdelivr.net/gh/zerodevx/zero-md@1/src/zero-md.min.js"></script>
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
    <link rel="manifest" href="/assets/site.webmanifest">
    <script>
        function scrollToPosition() {
            var content_window = document.getElementById("content-window"); //what-i-do
            var content_start = content_window.querySelector("zero-md");
            content_start.scrollIntoView({ behavior:"instant", block: "nearest", inline: "nearest" });
        }

        function handleContentDisplay(mdPath, id = null) {
            // show selected content
            var content_window = document.getElementById("content-window");
            content_window.style.display = "block";
            // content_window.innerHTML = "<zero-md src='content/docs/" + mdPath + "''><template data-merge='append'><link rel='stylesheet' type='text/css' href='../../style.css'></template></zero-md>";
            content_window.innerHTML = "<zero-md no-shadow src='content/docs/" + mdPath + "''></zero-md>";
            // content_window.innerHTML = "<zero-md src='content/docs/" + mdPath + "''>\
            //     <template data-merge='append'>\
            //         <style>\
            //             .image-row {\
            //                 display: flex;\
            //                 justify-content: center;\
            //                 align-items: center;\
            //                 max-width: 100%;\
            //                 height: auto;\
            //                 padding-bottom: 10px;\
            //             }\
            //             \
            //             .image-row img {\
            //                 flex: 1;\
            //                 max-width: 40%;\
            //                 height: auto;\
            //                 margin: 5px;\
            //                 width: 100%;\
            //                 height: 100%;\
            //                 object-fit: contain;\
            //                 border-radius: 5px;\
            //             }\
            //         </style>\
            //     </template>\
            // </zero-md>";

            document.getElementById("back-to-top").style.display = "flex"

            const dot_elements = document.querySelectorAll('.dot-container');
            const list_items = document.querySelectorAll('.dot-content-list-item');

            dot_elements.forEach(element => {
                element.classList.remove("selected");
            });

            list_items.forEach(element => {
                element.classList.remove("selected");
            });

            if (id != null) {
                let dot_element = document.getElementById("dot-"+id);
                dot_element.classList.add("selected");

                let corresponding_listitem = document.getElementById("listitem-"+id);
                corresponding_listitem.classList.add("selected");
            }

            setTimeout(scrollToPosition, 50);
        }

        function getMaxIndex() {
            let maxIndex = 0;
            document.querySelectorAll('[id^="dot-"]').forEach(element => {
                const index = parseInt(element.id.split("-")[1]);
                if (index > maxIndex) {
                    maxIndex = index;
                }
            });
            return maxIndex;
        }

        function changeContent(increment) {
            const selectedElement = document.querySelector('.dot-container.selected');
            let selectedId = selectedElement ? parseInt(selectedElement.id.split("-")[1]) : (increment === 1 ? -1 : 0);
            selectedId = (selectedId + increment) % (getMaxIndex('[id^="dot-"]') + 1);
            
            if (selectedId < 0) selectedId = getMaxIndex();
            if (selectedId > getMaxIndex) selectedId = 0;
    
            const dotElement = document.getElementById(`dot-${selectedId}`);
            const onclickAttr = dotElement.getAttribute('onclick');
            const contentValue = onclickAttr.match(/handleContentDisplay\('(.+?)'/)[1];
    
            handleContentDisplay(contentValue, selectedId);
        }
    
        function previous() {
            changeContent(-1);
        }
    
        function next() {
            changeContent(1);
        }
    </script>
</head>

<body>
    <header>
        <div class="header-title">
            <h1>WILL LANGFORD</h1>
        </div>
    </header>
    <div class="landing">
        <div class="text">
            <h3>I am a multi-disciplinary engineer, technology leader, and entrepreneur. I get excited about manipulating atoms with bits.
                Let's talk about digital fabrication, robotics, and bio-automation.
                <br><br>
                <a href="#what-i-do">Learn more about what I do</a>.
                <br><br>
                Or <a href="Will_Langford_CV.pdf">download my CV</a>.
                <br><br>
            </h3>
        </div>
        <div class="video-container">
            <video width="100%" height="auto" autoplay muted loop playsinline>
                <source src="assets/video.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        <div id="timeline-container">
            <img src="timeline.svg">
        </div>
    </div>

    <div class="divider">
        <hr class="divider-line">
        <span class="divider-text">
            <h3 id="what-i-do">What I Do</h3>
        </span>
        <hr class="divider-line">
    </div>

    <div id="venn-container"></div>
    <div class="content-container">
        <div class="arrow arrow-left" onclick="previous()"></div>
        <div class="arrow arrow-right" onclick="next()"></div>
        <div id="content-window-prev" onclick="previous()" class="content-window prev"></div>
        <div id="content-window-next" onclick="next()" class="content-window next"></div>
        
        <div id="content-window" class="content-window"></div>
    </div>
    

    <div id="back-to-top" class="divider">
        <hr class="divider-line">
        <span class="divider-text">
            <h4><a id="backlink" href="#what-i-do">Back to top</a></h4>
        </span>
        <hr class="divider-line">
    </div>
</body>

<footer>
    <div class="footer-container">
        <div class="footer-text">
            <p>Â© 2023 Will Builds Things. All rights reserved.</p>
        </div>
    </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.7/handlebars.min.js"></script>
<script type="text/javascript" src="venn.js"></script>
<!-- <script type="text/javascript" src="timeline.js"></script> -->

<script>

    // Loop through the list items and add a mouseover event listener to each one
    const listItems = document.querySelectorAll('.dot-content-list-item');
    
    listItems.forEach((item, index) => {
        const dotContainer = document.querySelector('#dot-'+index);

        item.addEventListener('mouseover', () => {
            dotContainer.classList.add('active');
            item.classList.add('active');
        });

        item.addEventListener('mouseout', () => {
            dotContainer.classList.remove('active');
            item.classList.remove('active');
        });
        
        dotContainer.addEventListener('mouseover', () => {
            item.classList.add('active');
            dotContainer.classList.add('active');
        });

        dotContainer.addEventListener('mouseout', () => {
            item.classList.remove('active');
            dotContainer.classList.remove('active');
        });
    });

</script>

</html>